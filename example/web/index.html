<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Chat</title>
        <script src="socket.io.js"></script>
        <script src='http://code.jquery.com/jquery-1.10.1.min.js'></script>
    </head>
    <body>
    <div id='content' style='width:400px;height:300px;border:1px solid;overflow:auto;'>
    </div>
    <form>
    <input type='text' value='' /><input type='submit' value='send' />
    </form>
    <script>
        $(function(){
            var socket = io.connect('http://127.0.0.1:8080/');
            socket.on('connect', function(){
                socket.emit('addme', prompt("yourname"));
            });
            socket.on('update',function(data){
                $('#content').append('<div>'+data.msg+'</div>');
            });
            $('form').submit(function(){
                socket.emit('msg', { msg:$('input[type=text]').val() });
                $('input[type=text]').val('');
                return false;
            });
        });
    </script>
    </body>
</html>